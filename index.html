<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>æ¨‚æ¨‚çš„å€‹äººç¶²ç«™</title>
    <link rel="icon" type="image/png" href="images/icon.png">
</head>
<body>

    <nav>
        <h2>é„’å“æ¨‚</h2> 
        <ul>
            <li><a href="#about">About</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <header id="hero">
        <video autoplay muted loop playsinline class="bg-video" poster="images/hero.jpg">
            <source src="images/jump.mp4" type="video/mp4">
            æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ¨™ç±¤ã€‚
        </video>

        <div class="hero-content">
            <h1>HELLO, I am Your Father.</h1>
            <p>å¾€ä¸‹æ»‘å‹•æ¢ç´¢</p>
        </div>
    </header>

    <section id="about">
        <div class="about-container">
            <div class="about-image">
                <video muted loop playsinline class="smart-video" poster="images/profile.jpg"> 
                    <source src="images/profile.mp4" type="video/mp4">
                </video>
            </div>

            <div class="about-text">
                <h3>é—œæ–¼æˆ‘</h3>
                <p>æ—©æ™¨ï¼Œæˆ‘å«é„’å“æ¨‚ï¼Œä»Šå¹´21æ­²é‚„æ˜¯A0ï¼Œåœ°ç„ç«ä¿±æ¨‚éƒ¨æˆå“¡ã€‚</p>
                <p>æ­£å°±è®€æˆ‘çš„è‹±é›„å­¸é™¢Aç­ã€‚</p>
                <p>å€‹æ€§ï¼šè¡Œèµ°é¿å­•å¥—</p>
                <p>è‹±é›„å:å¤§é­”æ³•å¸«magicomdomã€‚</p>
            </div>
        </div>
    </section>

    <section id="gallery">
        <h3>My Gallery</h3>
        <div class="gallery-grid">
            <img src="images/p1.jpg" alt="ä½œå“1">
            <img src="images/p2.HEIC" alt="ä½œå“2">
            
            <video muted loop playsinline class="smart-video" poster="images/p3.jpg">
                <source src="images/p3.mp4" type="video/mp4">
            </video>
            
            <img src="images/p4.JPG" alt="ä½œå“4">
            <img src="images/p5.jpg" alt="ä½œå“5">
            
            <video muted loop playsinline class="smart-video" poster="images/p6.jpg">
                <source src="images/p6.mp4" type="video/mp4">
            </video>
        </div>
    </section>

    <footer id="contact">
        <h3>Contact</h3>
        <p>Jacky05@Jacky05.win</p>
        <p>Â© 2025 Jacky05</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            /* =========================================
               ğŸ”¥ 1. Hero å½±ç‰‡å°ˆå±¬å–šé†’æ©Ÿåˆ¶ (ä¿®å¾©åœæ­¢æ’­æ”¾å•é¡Œ)
               ========================================= */
            const heroVideo = document.querySelector('.bg-video');
            
            if (heroVideo) {
                // å»ºç«‹ä¸€å€‹å°ˆé–€ç›£è¦– Hero å½±ç‰‡çš„è§€å¯Ÿè€…
                const heroObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        // å¦‚æœ Hero å½±ç‰‡å‡ºç¾åœ¨ç•«é¢ä¸­ (å“ªæ€•åªéœ²å‡ºä¸€é»é»)
                        if (entry.isIntersecting) {
                            entry.target.play().catch(e => console.log("Hero autoplay handled"));
                        } else {
                            // é›¢é–‹ç•«é¢æ™‚æš«åœ (çœé›»)
                            entry.target.pause();
                        }
                    });
                });
                // é–‹å§‹ç›£è¦–
                heroObserver.observe(heroVideo);
            }

            /* =========================================
               ğŸ“± 2. Gallery å…§å®¹çš„äº’å‹•é‚è¼¯
               ========================================= */
            const isMobile = window.innerWidth < 768;
            const allMedia = document.querySelectorAll('.smart-video, .gallery-grid img');

            if (isMobile) {
                // --- æ‰‹æ©Ÿç‰ˆï¼šæ²å‹•è§¸ç™¼ç‰¹æ•ˆ ---
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.5 
                };

                const galleryObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        const target = entry.target;
                        if (entry.isIntersecting) {
                            target.classList.add('in-view');
                            if (target.tagName === 'VIDEO') {
                                target.play().catch(e => console.log("Gallery autoplay prevented"));
                            }
                        } else {
                            target.classList.remove('in-view');
                            if (target.tagName === 'VIDEO') {
                                target.pause();
                            }
                        }
                    });
                }, observerOptions);

                allMedia.forEach(media => {
                    galleryObserver.observe(media);
                });

            } else {
                // --- é›»è…¦ç‰ˆï¼šæ»‘é¼ äº’å‹• ---
                document.querySelectorAll('.smart-video').forEach(video => {
                    video.addEventListener('mouseenter', () => video.play());
                    video.addEventListener('mouseleave', () => video.pause());
                });
            }

            /* =========================================
               âœ¨ 3. Hero æ²å‹•æ·¡å‡ºæ•ˆæœ
               ========================================= */
            const heroSection = document.getElementById('hero');
            if(heroSection){
                window.addEventListener('scroll', function() {
                    const scrollPosition = window.scrollY;
                    const heroHeight = heroSection.offsetHeight;
                    
                    // è¨ˆç®—é€æ˜åº¦
                    let opacityValue = 1 - (scrollPosition / heroHeight);
                    if (opacityValue < 0) opacityValue = 0;
                    
                    // å¥—ç”¨é€æ˜åº¦ (é€™åªæœƒå½±éŸ¿æ•´å€‹å€å¡Šçš„æ·¡å‡ºï¼Œä¸æœƒåœæ­¢å½±ç‰‡)
                    heroSection.style.opacity = opacityValue;
                });
            }
        });
    </script>
</body>
</html>