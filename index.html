<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>æ¨‚æ¨‚çš„å€‹äººç¶²ç«™</title>
    <link rel="icon" type="image/png" href="images/icon.png">
</head>
<body>

    <nav>
        <h2>é„’å“æ¨‚</h2> 
        <ul>
            <li><a href="#about">About</a></li>
            <li><a href="#gallery">Gallery</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>

    <header id="hero">
        <video autoplay muted loop playsinline class="bg-video" poster="images/hero.jpg">
            <source src="images/jump.mp4" type="video/mp4">
            æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´å½±ç‰‡æ¨™ç±¤ã€‚
        </video>

        <div class="hero-content">
            <h1>HELLO, I am Your Father.</h1>
            <p>å¾€ä¸‹æ»‘å‹•æ¢ç´¢</p>
        </div>
    </header>

    <section id="about">
        <div class="about-container">
            <div class="about-image">
                <video muted loop playsinline class="smart-video" poster="images/profile.jpg"> 
                    <source src="images/profile.mp4" type="video/mp4">
                </video>
            </div>

            <div class="about-text">
                <h3>é—œæ–¼æˆ‘</h3>
                <p>æ—©æ™¨ï¼Œæˆ‘å«é„’å“æ¨‚ï¼Œä»Šå¹´21æ­²é‚„æ˜¯A0ï¼Œåœ°ç„ç«ä¿±æ¨‚éƒ¨æˆå“¡ã€‚</p>
                <p>æ­£å°±è®€æˆ‘çš„è‹±é›„å­¸é™¢Aç­ã€‚</p>
                <p>å€‹æ€§ï¼šè¡Œèµ°é¿å­•å¥—</p>
                <p>è‹±é›„å:å¤§é­”æ³•å¸«magicomdomã€‚</p>
            </div>
        </div>
    </section>

    <section id="gallery">
        <h3>My Gallery</h3>
        <div class="gallery-grid">
            <img src="images/p1.jpg" alt="ä½œå“1">
            <img src="images/p2.HEIC" alt="ä½œå“2">
            
            <video muted loop playsinline class="smart-video" poster="images/p3.jpg">
                <source src="images/p3.mp4" type="video/mp4">
            </video>
            
            <img src="images/p4.JPG" alt="ä½œå“4">
            <img src="images/p5.jpg" alt="ä½œå“5">
            
            <video muted loop playsinline class="smart-video" poster="images/p6.jpg">
                <source src="images/p6.mp4" type="video/mp4">
            </video>
        </div>
    </section>

    <footer id="contact">
        <h3>Contact</h3>
        <p>Jacky05@Jacky05.win</p>
        <p>Â© 2025 Jacky05</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            // 1. åˆ¤æ–·æ˜¯å¦ç‚ºæ‰‹æ©Ÿ (è¢å¹•å¯¬åº¦å°æ–¼ 768px)
            const isMobile = window.innerWidth < 768;
            
            // 2. æŠ“å–æ‰€æœ‰ç›®æ¨™ (å½±ç‰‡ + åœ–ç‰‡)
            const allMedia = document.querySelectorAll('.smart-video, .gallery-grid img');

            if (isMobile) {
                /* =================================
                ğŸ“± æ‰‹æ©Ÿç‰ˆé‚è¼¯ï¼šæ²å‹•è§¸ç™¼ (Scroll Trigger)
                ================================= */
                
                // è¨­å®šç›£è¦–å™¨ï¼šç•¶ç‰©ä»¶é€²å…¥è¢å¹• 50% (threshold: 0.5) æ™‚è§¸ç™¼
                const observerOptions = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.5 
                };

                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        const target = entry.target;

                        if (entry.isIntersecting) {
                            // A. é€²å…¥è¦–ç·šç¯„åœ -> è®Šèº«ï¼(è®Šå½©è‰²ã€æ”¾å¤§)
                            target.classList.add('in-view');
                            
                            // å¦‚æœæ˜¯å½±ç‰‡ï¼Œå°±æ’­æ”¾
                            if (target.tagName === 'VIDEO') {
                                target.play().catch(e => console.log("Autoplay prevented"));
                            }

                        } else {
                            // B. é›¢é–‹è¦–ç·šç¯„åœ -> è®Šå›åŸå½¢ (é»‘ç™½)
                            target.classList.remove('in-view');
                            
                            // å¦‚æœæ˜¯å½±ç‰‡ï¼Œå°±æš«åœ
                            if (target.tagName === 'VIDEO') {
                                target.pause();
                            }
                        }
                    });
                }, observerOptions);

                // é–‹å§‹ç›£è¦–æ‰€æœ‰åœ–ç‰‡å’Œå½±ç‰‡
                allMedia.forEach(media => {
                    observer.observe(media);
                });

            } else {
                /* =================================
                ğŸ’» é›»è…¦ç‰ˆé‚è¼¯ï¼šæ»‘é¼ äº’å‹• (Hover)
                ================================= */
                // åªé‡å°å½±ç‰‡åšæ’­æ”¾æ§åˆ¶ï¼Œåœ–ç‰‡ CSS å·²ç¶“è™•ç†å¥½äº†
                document.querySelectorAll('video').forEach(video => {
                    video.addEventListener('mouseenter', () => video.play());
                    video.addEventListener('mouseleave', () => video.pause());
                });
            }

            /* Hero å€å¡Šæ²å‹•æ·¡å‡ºæ•ˆæœ (é€šç”¨) */
            const heroSection = document.getElementById('hero');
            if(heroSection){
                window.addEventListener('scroll', function() {
                    const scrollPosition = window.scrollY;
                    const heroHeight = heroSection.offsetHeight;
                    let opacityValue = 1 - (scrollPosition / heroHeight);
                    if (opacityValue < 0) opacityValue = 0;
                    heroSection.style.opacity = opacityValue;
                });
            }
        });
    </script>
</body>
</html>